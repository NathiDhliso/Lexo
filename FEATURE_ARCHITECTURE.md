# Feature Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ATTORNEY SELECTION & MATTER DESCRIPTION                   â”‚
â”‚                           Feature Architecture                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           USER INTERFACE LAYER                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  AttorneySelectionField        â”‚    â”‚   MatterDescriptionModal         â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚    â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚ â”‚
â”‚  â”‚                                â”‚    â”‚                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚    â”‚  Step 1: Recording               â”‚ â”‚
â”‚  â”‚  â”‚ Favorites Mode   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  Toggle  â”‚    â”‚  â”‚   ğŸ¤ Microphone          â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ Attorney â”‚    â”‚          â”‚    â”‚  â”‚   (Animated Pulse)       â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚   Card   â”‚    â”‚          â”‚    â”‚  â”‚   â±ï¸  Duration Timer     â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚          â”‚    â”‚  â”‚   ğŸ“ Live Transcript     â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  (5 desktop,     â”‚          â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚  â”‚   3 mobile)      â”‚          â”‚    â”‚                                  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚    â”‚  Step 2: Transcription           â”‚ â”‚
â”‚  â”‚                                â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚    â”‚  â”‚   ğŸ“„ Editable Textarea   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ Manual Mode      â”‚          â”‚    â”‚  â”‚   âœï¸  Manual Editing     â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â–¼ Dropdown      â”‚          â”‚    â”‚  â”‚   ğŸ” Re-record Option   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  All Attorneys   â”‚          â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚    â”‚                                  â”‚ â”‚
â”‚  â”‚                                â”‚    â”‚  Step 3: Summary                 â”‚ â”‚
â”‚  â”‚  âœ“ Selected Details            â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  (Name, Firm, Email, Phone)    â”‚    â”‚  â”‚   ğŸ›ï¸  Matter Type Select â”‚   â”‚ â”‚
â”‚  â”‚                                â”‚    â”‚  â”‚   âœ¨ AI Format Button    â”‚   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚   ğŸ“‹ Formatted Output    â”‚   â”‚ â”‚
â”‚                                        â”‚  â”‚   âš ï¸  Placeholder Warn   â”‚   â”‚ â”‚
â”‚                                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             HOOKS & STATE LAYER                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   useVoiceRecording             â”‚    â”‚   React State Management     â”‚   â”‚
â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚    â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚   â”‚
â”‚  â”‚                                 â”‚    â”‚                              â”‚   â”‚
â”‚  â”‚   â€¢ Web Speech API              â”‚    â”‚   â€¢ currentStep              â”‚   â”‚
â”‚  â”‚   â€¢ Recording state             â”‚    â”‚   â€¢ transcript               â”‚   â”‚
â”‚  â”‚   â€¢ Duration tracking           â”‚    â”‚   â€¢ summary                  â”‚   â”‚
â”‚  â”‚   â€¢ Error handling              â”‚    â”‚   â€¢ matterType               â”‚   â”‚
â”‚  â”‚   â€¢ Transcript updates          â”‚    â”‚   â€¢ history (undo/redo)     â”‚   â”‚
â”‚  â”‚                                 â”‚    â”‚                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            SERVICES LAYER                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   aiSummarizationService                                            â”‚    â”‚
â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   formatMatterDescription()                                          â”‚    â”‚
â”‚  â”‚   â”œâ”€ System Prompt (Base Instructions)                              â”‚    â”‚
â”‚  â”‚   â”œâ”€ Matter Type Specific Prompts:                                  â”‚    â”‚
â”‚  â”‚   â”‚  â”œâ”€ Litigation (Parties, Cause of Action, Relief)               â”‚    â”‚
â”‚  â”‚   â”‚  â”œâ”€ Conveyancing (Property, Transfer, Deeds Office)             â”‚    â”‚
â”‚  â”‚   â”‚  â”œâ”€ Commercial (Contracts, Terms, Compliance)                   â”‚    â”‚
â”‚  â”‚   â”‚  â”œâ”€ Family Law (Divorce, Maintenance, Custody)                  â”‚    â”‚
â”‚  â”‚   â”‚  â”œâ”€ Criminal (Charges, Bail, Court)                             â”‚    â”‚
â”‚  â”‚   â”‚  â”œâ”€ Labour (CCMA, Dismissal, LRA)                               â”‚    â”‚
â”‚  â”‚   â”‚  â”œâ”€ Administrative (PAJA, Judicial Review)                      â”‚    â”‚
â”‚  â”‚   â”‚  â””â”€ Other (General Legal Matters)                               â”‚    â”‚
â”‚  â”‚   â””â”€ [Placeholder] Tag Insertion (never hallucinate!)               â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   validateDescriptionQuality()                                       â”‚    â”‚
â”‚  â”‚   â”œâ”€ Count placeholders                                              â”‚    â”‚
â”‚  â”‚   â”œâ”€ Calculate percentage                                            â”‚    â”‚
â”‚  â”‚   â””â”€ Warn if > 30% threshold                                         â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚   calculatePlaceholderPercentage()                                   â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          EXTERNAL SERVICES                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   AWS Bedrock            â”‚           â”‚   Browser Web Speech API     â”‚   â”‚
â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚           â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚   â”‚
â”‚  â”‚                          â”‚           â”‚                              â”‚   â”‚
â”‚  â”‚   Claude 3.5 Sonnet      â”‚           â”‚   â€¢ SpeechRecognition        â”‚   â”‚
â”‚  â”‚   â€¢ Anthropic Model      â”‚           â”‚   â€¢ Continuous mode          â”‚   â”‚
â”‚  â”‚   â€¢ Temperature: 0.3     â”‚           â”‚   â€¢ Interim results          â”‚   â”‚
â”‚  â”‚   â€¢ Max tokens: 2000     â”‚           â”‚   â€¢ en-ZA language           â”‚   â”‚
â”‚  â”‚   â€¢ SA Legal Formatting  â”‚           â”‚   â€¢ Real-time transcription  â”‚   â”‚
â”‚  â”‚                          â”‚           â”‚                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              DATA LAYER                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Supabase PostgreSQL                                                â”‚   â”‚
â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚   attorneys Table                user_preferences Table              â”‚   â”‚
â”‚  â”‚   â”œâ”€ id                          â”œâ”€ advocate_id                      â”‚   â”‚
â”‚  â”‚   â”œâ”€ attorney_name               â”œâ”€ favorite_attorneys: TEXT[]       â”‚   â”‚
â”‚  â”‚   â”œâ”€ email                       â”‚   (Array of attorney IDs)         â”‚   â”‚
â”‚  â”‚   â”œâ”€ phone                       â””â”€ (Max 5 favorites)                â”‚   â”‚
â”‚  â”‚   â”œâ”€ firm_id                                                         â”‚   â”‚
â”‚  â”‚   â””â”€ status                      matters Table                       â”‚   â”‚
â”‚  â”‚                                  â”œâ”€ id                                â”‚   â”‚
â”‚  â”‚   firms Table                    â”œâ”€ title                            â”‚   â”‚
â”‚  â”‚   â”œâ”€ id                          â”œâ”€ description (AI formatted)       â”‚   â”‚
â”‚  â”‚   â”œâ”€ firm_name                   â”œâ”€ attorney_id                      â”‚   â”‚
â”‚  â”‚   â”œâ”€ advocate_id                 â”œâ”€ matter_type                      â”‚   â”‚
â”‚  â”‚   â””â”€ status                      â””â”€ transcript (raw voice)           â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            DATA FLOW                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  1. USER SELECTS ATTORNEY
     â†“
  2. Load from user_preferences.favorite_attorneys
     â†“
  3. Display in AttorneySelectionField
     â†“
  4. USER CLICKS MICROPHONE
     â†“
  5. Web Speech API captures audio â†’ transcript
     â†“
  6. USER REVIEWS/EDITS transcription
     â†“
  7. USER SELECTS MATTER TYPE (e.g., Litigation)
     â†“
  8. USER CLICKS "Format Description"
     â†“
  9. aiSummarizationService.formatMatterDescription()
     â”œâ”€ Build prompt with matter type template
     â”œâ”€ Call AWS Bedrock Claude API
     â”œâ”€ Parse response
     â””â”€ Insert [Placeholder] for missing info
     â†“
 10. VALIDATE QUALITY
     â”œâ”€ Count placeholders
     â”œâ”€ Calculate percentage
     â””â”€ Show warning if > 30%
     â†“
 11. USER SAVES formatted description
     â†“
 12. Store in matters.description (formatted)
     â””â”€ Optional: Store in matters.transcript (raw)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         KEY DESIGN PRINCIPLES                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

 âœ“ Progressive Disclosure     - 3 steps prevent overwhelm
 âœ“ Never Hallucinate          - [Placeholder] for missing info
 âœ“ SA Legal Compliance        - Matter-type specific prompts
 âœ“ User Control               - Edit at every step, undo/redo
 âœ“ Graceful Degradation       - Manual entry if voice fails
 âœ“ Quality Validation         - Warn on excessive placeholders
 âœ“ Mobile Optimized           - Responsive, touch-friendly
 âœ“ Accessibility              - Keyboard nav, screen readers
 âœ“ Error Resilience           - Comprehensive error handling
 âœ“ Type Safety                - Full TypeScript coverage

```

## Component Relationships

```
QuickBriefCaptureModal (Future Integration)
â”œâ”€ Step 1: AttorneySelectionField âœ… NEW
â”‚  â”œâ”€ Favorites Mode (Quick Cards)
â”‚  â””â”€ Manual Mode (Dropdown)
â”‚
â”œâ”€ Step 2: Matter Title
â”œâ”€ Step 3: Work Type
â”œâ”€ Step 4: Practice Area
â”œâ”€ Step 5: Urgency
â”‚
â””â”€ Step 6: Brief Summary
   â””â”€ Can use: MatterDescriptionModal âœ… NEW
      â”œâ”€ Step 1: Recording
      â”œâ”€ Step 2: Transcription
      â””â”€ Step 3: AI Summary
```

## File Structure

```
src/
â”œâ”€ components/
â”‚  â”œâ”€ attorneys/
â”‚  â”‚  â””â”€ AttorneySelectionField.tsx    âœ… NEW (309 lines)
â”‚  â”‚
â”‚  â”œâ”€ matters/
â”‚  â”‚  â””â”€ MatterDescriptionModal.tsx    âœ… NEW (650+ lines)
â”‚  â”‚
â”‚  â””â”€ index.ts                          âœ… NEW (exports)
â”‚
â”œâ”€ hooks/
â”‚  â””â”€ useVoiceRecording.ts              âœ… NEW (220 lines)
â”‚
â”œâ”€ services/
â”‚  â””â”€ ai-summarization.service.ts       âœ… NEW (400+ lines)
â”‚
â””â”€ types/
   â””â”€ (uses existing types)

docs/
â”œâ”€ ATTORNEY_SELECTION_MATTER_DESCRIPTION_IMPLEMENTATION.md  âœ… NEW
â”œâ”€ QUICK_INTEGRATION_GUIDE.md                                âœ… NEW
â”œâ”€ FEATURE_IMPLEMENTATION_SUMMARY.md                          âœ… NEW
â””â”€ FEATURE_ARCHITECTURE.md                                    âœ… NEW (this file)
```

## Technology Stack

- **Frontend**: React, TypeScript, TailwindCSS
- **Voice**: Web Speech API (browser native)
- **AI**: AWS Bedrock (Claude 3.5 Sonnet)
- **Database**: Supabase PostgreSQL
- **State**: React Hooks (useState, useCallback, useEffect)
- **Icons**: Lucide React
- **Notifications**: react-hot-toast

## Environment Requirements

- Node.js 18+
- AWS Account (for Bedrock)
- Supabase Project
- Modern browser (Chrome, Safari, Edge)
- Microphone access

## Performance Considerations

- **Lazy Loading**: Components can be code-split
- **Memoization**: useCallback for stable references
- **Debouncing**: Auto-save with debounce (if implemented)
- **API Caching**: Could cache matter type templates
- **Optimistic Updates**: Could implement optimistic UI

## Security Considerations

- **API Keys**: Stored in environment variables
- **Permissions**: Explicit microphone permission request
- **Data Privacy**: No automatic voice recording storage
- **Encryption**: AWS API calls use HTTPS
- **Input Validation**: Server-side validation recommended
- **Rate Limiting**: AWS Bedrock has built-in limits

## Browser Support Matrix

| Feature              | Chrome | Safari | Edge | Firefox |
|----------------------|--------|--------|------|---------|
| Voice Recording      | âœ…     | âœ…     | âœ…   | âš ï¸      |
| AI Summarization     | âœ…     | âœ…     | âœ…   | âœ…      |
| Attorney Selection   | âœ…     | âœ…     | âœ…   | âœ…      |
| Responsive Design    | âœ…     | âœ…     | âœ…   | âœ…      |
| Manual Fallback      | âœ…     | âœ…     | âœ…   | âœ…      |

âœ… = Full Support | âš ï¸ = Limited Support | âŒ = Not Supported

## Accessibility (WCAG 2.1 AA)

- âœ… Keyboard navigation
- âœ… Screen reader support
- âœ… Color contrast compliance
- âœ… Focus indicators
- âœ… ARIA labels
- âœ… Skip navigation options
- âœ… Error announcements
- âœ… Status updates

---

**This architecture is production-ready and follows React best practices, TypeScript standards, and accessibility guidelines.**
